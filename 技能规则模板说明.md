# 技能规则模板说明

做技能重梳理时，请按以下三张表填写（可用同目录下的 CSV 模板导入 Excel 编辑）。填完后可交给开发按表改代码。

---

## 一、基础技能表（技能表-基础.csv）

| 列名 | 含义 | 填写说明 |
|------|------|----------|
| **序号** | 技能在基础池中的 id | 从 0 开始连续整数，不可重复。代码里用此 id 引用技能。 |
| **名称** | 技能显示名 | 如：强力一击、嗜血、旋风斩。 |
| **类型** | 被动 / 主动 | 主动技能会占一个「主动位」，有 CD 或怒气等逻辑。 |
| **攻击倍率** | 对普攻伤害的乘数 | 数字，如 1.5 表示普攻伤害×1.5。被动直接乘在普攻上；主动技能另有单独伤害公式时，此倍率仍参与总攻击力计算。 |
| **攻速倍率** | 对普攻间隔的乘数 | 数字，如 1.2 表示攻速×1.2（间隔÷1.2）。仅影响普攻频率，主动技能 CD 单独配置。 |
| **暴击加成** | 可选，暴击数值 +N | 不填或 0 表示无。有则填数字，如 25 表示暴击+25（暴击率=暴击/(暴击+100)）。 |
| **极速加成** | 可选，极速数值 +N | 不填或 0 表示无。有则填数字，如 20 表示极速+20（攻速与技能 CD 速率+20%）。 |
| **描述** | 选卡界面展示的说明 | 一句或几句，写清效果；会按避头尾自动换行。 |
| **吞噬条件类型** | 无 / 基础吞噬 / 专属 | 「无」：本技能无吞噬，不占栏位也不被吞噬。「基础吞噬」：参与某个吞噬组合，集齐所需技能即激活，组成技能不占栏位。「专属」：有单独达成条件（如 50 击杀、500 怒气），达成后该技能被吞噬不占栏位。 |
| **专属吞噬条件** | 仅当类型=专属时填写 | 一句话，如「击杀怪数达50后吞噬」「累计消耗怒气达500后吞噬」。会直接显示在选卡界面「吞噬条件」下。 |
| **所属吞噬** | 参与的基础吞噬名 | 多个用顿号，如「刺客、战士」。仅类型=基础吞噬时必填；无或专属可空。 |
| **开局必出** | 某职业前几次升级必出 | 填「是」或留空。若填「是」，需在代码里配置到该职业的 startSkillIds（前几次升级 3 选 1 仅从这些里抽）。 |
| **备注** | 主动技能参数等 | 主动技能的 CD、伤害公式、怒气消耗、顺劈等可写在此列，便于实现时对照。 |

**当前规则摘要：**

- 基础技能池总数为表行数；升级 3 选 1 从未选过的基础池 + 已解锁的进阶池中抽。
- 技能栏位共 7 格；被吞噬的技能不占栏位但效果保留。
- 暴击率 = 暴击/(暴击+100)；极速每 +1 = 攻速与 CD 效果 +1%。

---

## 二、吞噬表（吞噬表.csv）

每个吞噬 = 一个「组合」：当玩家集齐所需的基础技能后激活，提供额外加成，且组成技能不占栏位。

| 列名 | 含义 | 填写说明 |
|------|------|----------|
| **吞噬名** | 组合名称 | 如：刺客、战士、迅捷、破势、均衡之道。 |
| **需求技能序号1** | 所需基础技能 id | 填「基础技能表」中的序号。 |
| **需求技能序号2** | 所需基础技能 id | 同上，当前规则为每个吞噬固定 2 张基础技能。 |
| **需求技能名（描述用）** | 给策划/界面看的文字 | 如「强力一击、锋芒」，可与表一对应。 |
| **效果攻击倍率** | 激活后攻击乘数 | 如 1.15 表示攻击+15%。 |
| **效果极速加成** | 激活后极速 +N | 数字，如 10 表示极速+10。可填 0。 |
| **效果描述** | 界面展示 | 如「攻击+15%，极速+10」。 |

**当前规则摘要：**

- 每个吞噬对应一个**独立进阶卡池**；只有激活该吞噬后，该池的进阶卡才会进入 3 选 1。
- 进阶卡不参与吞噬组合，始终占 1 栏位。

---

## 三、进阶技能表（技能表-进阶.csv）

进阶卡属于某个吞噬池，只在激活该吞噬后才会被抽到。

| 列名 | 含义 | 填写说明 |
|------|------|----------|
| **所属吞噬** | 属于哪个吞噬的进阶池 | 与「吞噬表」的吞噬名一致，如：刺客、战士。 |
| **技能名** | 进阶技能显示名 | 如：影袭、割喉、破军。 |
| **攻击倍率** | 对普攻伤害的乘数 | 数字，如 1.7。 |
| **攻速倍率** | 对普攻间隔的乘数 | 数字，如 1.25。 |
| **描述** | 选卡界面展示 | 建议注明「xx进阶」及效果。 |

**当前规则摘要：**

- 进阶技能无「吞噬条件」展示，界面显示「进阶技能，无专属吞噬条件。」即可。
- 每个吞噬的进阶卡数量可固定为 2 张（或按表扩展）。

---

## 四、与代码的对应关系（供实现参考）

- **基础技能**：`SKILL_POOL[i]`，i = 序号；字段 name, attackMul, speedMul, desc；可选 critValueBonus, hasteBonus, isActive。
- **吞噬**：`SYNERGIES[i]`，req 为 [需求技能序号1, 需求技能序号2]，name, effect, attackMul, hasteBonus。
- **进阶**：`ADVANCED_POOLS[i].skills[j]`，name, attackMul, speedMul, desc；所属吞噬 = ADVANCED_POOLS[i].name。
- **专属吞噬**：在代码里对指定技能 id 写死逻辑（如 旋风斩=50 击杀，暴怒=500 怒气），或后续扩展为表驱动（如在本表加列「专属条件类型」「专属条件数值」）。

填表时优先保证「序号」「吞噬名」「所属吞噬」与代码约定一致，便于批量导入或脚本转换。
